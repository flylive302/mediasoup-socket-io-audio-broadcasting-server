# ==============================================================================
# APPLICATION CONFIGURATION (PRODUCTION DEPLOYMENT)
# ==============================================================================
# SECURITY WARNING: Do NOT commit real credentials to version control!
# Copy this file to .env.deploy and fill in your production values.
# ==============================================================================

NODE_ENV=production
PORT=3030
LOG_LEVEL=info

# ==============================================================================
# VALKEY/REDIS CONFIGURATION
# ==============================================================================
REDIS_HOST=your-redis-host.db.ondigitalocean.com
REDIS_PORT=25061
REDIS_USERNAME=default
REDIS_PASSWORD=your-redis-password
REDIS_DB=3
REDIS_TLS=true

# ==============================================================================
# LARAVEL API INTEGRATION
# ==============================================================================
LARAVEL_API_URL=https://api.yourapp.com
LARAVEL_INTERNAL_KEY=your-secure-internal-key-min-32-chars

# ==============================================================================
# MEDIASOUP CONFIGURATION
# ==============================================================================
MEDIASOUP_LISTEN_IP=0.0.0.0
MEDIASOUP_ANNOUNCED_IP=YOUR_DROPLET_PUBLIC_IP
# MEDIASOUP_NUM_WORKERS=2  # Optional: defaults to CPU count

# MediaSoup RTC Port Range
MEDIASOUP_RTC_MIN_PORT=10000
MEDIASOUP_RTC_MAX_PORT=59999

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
CORS_ORIGINS=https://yourapp.com,https://www.yourapp.com

# ==============================================================================
# ROOM AUTO-CLOSE
# ==============================================================================
ROOM_INACTIVITY_TIMEOUT_MS=300000      # 5 minutes default
ROOM_AUTO_CLOSE_POLL_INTERVAL_MS=30000 # 30 seconds default

# ==============================================================================
# GIFT BUFFER
# ==============================================================================
# GIFT_BUFFER_FLUSH_INTERVAL_MS=500  # 500ms default
# GIFT_MAX_RETRIES=3                 # 3 retries default

# ==============================================================================
# SEATS
# ==============================================================================
# DEFAULT_SEAT_COUNT=15  # 15 seats default

# ==============================================================================
# DEPLOYMENT SECRETS (for scripts, NOT runtime)
# Set these in your local environment before running deploy scripts
# ==============================================================================
DO_SSH_KEY_FINGERPRINT=your-ssh-key-fingerprint
DO_SSH_PRIVATE_KEY=~/.ssh/id_ed25519

# Seats
# DEFAULT_SEAT_COUNT=15  # 15 seats default
# JWT Authentication
JWT_SECRET=9azj7Sce79rCag3JjwE6HguwXG/XNhF9WmrPpxDZpvw52A1M+v4eyWJL61mzgYdB
JWT_MAX_AGE_SECONDS=86400
LARAVEL_API_TIMEOUT_MS=10000